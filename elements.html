<!DOCTYPE HTML>
<!--
	Binary by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Creating HTML Pages</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body>

		<!-- Header -->
			<header id="header">
				<a href="index.html" class="logo">Creating HTML pages to display information</a>
				<nav>
					<a href="#menu">Menu</a>
				</nav>
			</header>

		<!-- Nav -->
			<nav id="menu">
				<ul class="links">
					<li><a href="index.html">Home</a></li>
					<li><a href="generic.html">Getting Set-Up</a></li>
					<li><a href="elements.html">Creating HTML pages</a></li>
					<li><a href="CORS.html">CORS</a></li>

				</ul>
			</nav>

		<!-- Main -->
			<section id="main">
				<div class="inner">
					<header class="major special">
						<h1>Creating a simple HTML page using Get/beerid method</h1>
					</header>

					<!-- Text -->
						<section>
							
							<header>
								<h3>The Code</h3>
								<p>Below is the the full code that you can copy and paste into a .HTML file.</p>
							</header>

							



					


							
						


	
	<pre class = "prettyprint"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;script&gt;
      "Put bottom code in here"
    &lt;/script&gt;
  &lt;/head&gt;

  	&lt;body&gt;

	    &lt;form&gt;
	      &lt;fieldset&gt;
	        &lt;legend&gt;BEER &lt;/legend&gt;
	        &lt;label for="Enter beerID"&gt; &lt;/label&gt;
	        BeerID: &lt;br&gt;
	        &lt;input type="text" name="beer" id="beer"&gt;
	        &lt;br&gt;
	        &lt;input type="submit" id="Submit"&gt;
	      &lt;/fieldset&gt;
	    &lt;/form&gt;
	    
	    &lt;div&gt;
	      &lt;h2&gt;Result&lt;/h2&gt;

	       &lt;img id="myImg" src="" width="200" height="200"&gt; &lt;br&gt;
	       &lt;span id ="description"&gt; &lt;/span&gt;
	   &lt;/div&gt;

  	&lt;/body&gt;

&lt;/html&gt;</code></pre>
		
		<p> So there is a lot of code here so I broke it down with the simpler HTML file without the javascript HTTP call above and the javascript below. The above code should look familiar it is has the basic HTML skeleton. In the body is a simple &lt;form&gt; we don't need to set any action for the form because the javascript will capture the form information.
		</p>


	<pre class = "prettyprint">	<code>
&lt;script&gt;

document.addEventListener('DOMContentLoaded', bindButtons);

	function bindButtons(){

		document.getElementById('Submit').addEventListener('click', function(event){
		var req = new XMLHttpRequest();
    		var beerID = 'beer/'+ document.getElementById('beer').value;
   
    		req.open('GET', 'https://api.brewerydb.com/v2/' + beerID + 
    		'?key=3de3cfdc91affc429fbc0d020361a489&format=json', true);

    		req.addEventListener('load',function(){
      		if(req.status >= 200 && req.status < 400){
        		var response = JSON.parse(req.responseText);    
         		document.getElementById("myImg").src = response.data.labels.icon;
         
         		document.getElementById("description").textContent = response.data.description;
         		console.log(response.data.description); 
       		} else {
            	console.log("Error in network request: " + req.statusText);
               }

      		});

          req.send();
  
          event.preventDefault();
        })
	}
&lt;/script&gt; </code> </pre>

	
			<p> So the code above is the bread and butter of what is going to bring this all together. If you look closely you have seen some of this code before. The simple HTTP call we did earlier can be found in the code above except we are not using the search method but the get/beerid method. This call is also called asychronous execution (while we won't go over what asychronous is, the call we made earlier was sychronous). What we are ultimately doing in the code above is getting the information submitted by the forms and creating a function that executes when the form button is clicked. So what this piece of code is doing 
			<code>document.addEventListener('DOMContentLoaded', bindButtons);</code> is calling the bindButtons function when the HTML document has been completely loaded and parsed. <br> <br>
			The bindButtons function collects the information when the form, inputs the variables into the query string, sees if the get request was successful then uses the <code> document.getElementById("myImg").src = response.data.labels.icon;</code> to parse through the JSON file and get the elements we wanted; which is the label for the beer. 

			</p>


			<p>So if you take the code above and assemble it into an .html file and then open that file into a Chrome browser this is what you should see. So remember this call uses the get/beerid method not the search method we used earlier. So you will need to do some investigating and find the ID's of beer not just their names. As of now I have given you most of the skills to explore on your own. Browse the website, search for beers using JSFiddle, and then capture the beer Id's and use them here with your html page. And if something doesn't work use the Inspect feature to try and figure it out. This code calls on labels but will break if a beer doesn't have one. <b>GOOD LUCK AND HAPPY CODING!!</b></p>
			 <img src="images/HTML.png" style="width:550px;height:375px" />

		
			 </div>
			 <ul class="actions">
						<li><a href="generic.html" class="button alt">Go back</a></li>
			</ul>

</section>
		<!-- Footer -->
			<footer id="footer">
				
				<div class="copyright">
					&copy; Untitled. Design: <a href="https://templated.co">TEMPLATED</a>. Images: <a href="https://unsplash.com">Unsplash</a>.
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

	</body>
</html>